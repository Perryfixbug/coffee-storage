<div class="space-y-8">
  <!-- ๐ Tiรชu ฤแป -->
  <div>
    <h1 class="text-3xl font-bold text-gray-800 mb-2">Thแปng kรช tแปng quan kho hรng</h1>
    <p class="text-gray-500">Dแปฏ liแปu nhแบญp โ xuแบฅt โ tแปn kho, nhรขn sแปฑ vร ฤแบกi lรฝ trong 30 ngรy gแบงn ฤรขy</p>
  </div>

  <!-- ๐ข Tแปng quan -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-6">
    <div class="bg-white rounded-2xl shadow p-5 border border-gray-100">
      <div class="text-gray-500 text-sm">Tแปng sแบฃn phแบฉm</div>
      <div class="text-3xl font-semibold text-blue-600 mt-1"><%= @product_count %></div>
    </div>

    <div class="bg-white rounded-2xl shadow p-5 border border-gray-100">
      <div class="text-gray-500 text-sm">ฤฦกn nhแบญp thรกng nรy</div>
      <div class="text-3xl font-semibold text-green-600 mt-1"><%= @import_this_month %></div>
    </div>

    <div class="bg-white rounded-2xl shadow p-5 border border-gray-100">
      <div class="text-gray-500 text-sm">ฤฦกn xuแบฅt thรกng nรy</div>
      <div class="text-3xl font-semibold text-orange-500 mt-1"><%= @export_this_month %></div>
    </div>

    <div class="bg-white rounded-2xl shadow p-5 border border-gray-100">
      <div class="text-gray-500 text-sm">Tแปng giรก trแป tแปn kho</div>
      <div class="text-3xl font-semibold text-gray-700 mt-1"><%= number_to_currency(@inventory_value, unit: "โซ", precision: 0) %></div>
    </div>

    <div class="bg-white rounded-2xl shadow p-5 border border-gray-100">
      <div class="text-gray-500 text-sm">Tแปng ฤแบกi lรฝ</div>
      <div class="text-3xl font-semibold text-indigo-600 mt-1"><%= @agency_count %></div>
    </div>

    <div class="bg-white rounded-2xl shadow p-5 border border-gray-100">
      <div class="text-gray-500 text-sm">Tแปng nhรขn viรชn</div>
      <div class="text-3xl font-semibold text-purple-600 mt-1"><%= @user_count %></div>
    </div>
  </div>

  <!-- ๐ Biแปu ฤแป -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <div class="bg-white rounded-2xl shadow p-6 border border-gray-100">
      <h2 class="text-lg font-semibold text-gray-700 mb-4">๐ฅ Biแปu ฤแป nhแบญp hรng (30 ngรy)</h2>
      <%= line_chart @import_chart_data, height: "250px", colors: ["#22c55e"], xtitle: "Ngรy", ytitle: "ฤฦกn nhแบญp" %>
    </div>

    <div class="bg-white rounded-2xl shadow p-6 border border-gray-100">
      <h2 class="text-lg font-semibold text-gray-700 mb-4">๐ค Biแปu ฤแป xuแบฅt hรng (30 ngรy)</h2>
      <%= line_chart @export_chart_data, height: "250px", colors: ["#f97316"], xtitle: "Ngรy", ytitle: "ฤฦกn xuแบฅt" %>
    </div>
  </div>

  <!-- ๐ Sแบฃn phแบฉm & ฤฦกn hรng -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <div class="bg-white rounded-2xl shadow p-6 border border-gray-100">
      <h2 class="text-lg font-semibold text-gray-700 mb-4">๐ Top sแบฃn phแบฉm tแปn kho cao</h2>
      <ul class="divide-y divide-gray-100">
        <% @top_stock_products.each do |p| %>
          <li class="py-2 flex justify-between">
            <span><%= p.name %></span>
            <span class="font-semibold text-blue-600"><%= p.quantity %></span>
          </li>
        <% end %>
      </ul>
    </div>

    <div class="bg-white rounded-2xl shadow p-6 border border-gray-100">
      <h2 class="text-lg font-semibold text-gray-700 mb-4">๐ฐ ฤฦกn hรng giรก trแป cao</h2>
      <ul class="divide-y divide-gray-100">
        <% @top_import_orders.each do |o| %>
          <li class="py-2 flex justify-between">
            <span>ฤฦกn nhแบญp #<%= o.id %></span>
            <span class="text-green-600 font-semibold"><%= number_to_currency(o.total_price, unit: "โซ", precision: 0) %></span>
          </li>
        <% end %>
        <% @top_export_orders.each do |o| %>
          <li class="py-2 flex justify-between">
            <span>ฤฦกn xuแบฅt #<%= o.id %></span>
            <span class="text-orange-500 font-semibold"><%= number_to_currency(o.total_price, unit: "โซ", precision: 0) %></span>
          </li>
        <% end %>
      </ul>
    </div>
  </div>

  <!-- ๐ช Top ฤแบกi lรฝ hoแบกt ฤแปng -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Top nhแบญp -->
    <div class="bg-white rounded-2xl shadow p-6 border border-gray-100">
      <h2 class="text-lg font-semibold text-gray-700 mb-4">๐ช Top 10 ฤแบกi lรฝ nhแบญp hรng nhiแปu nhแบฅt</h2>
      <table class="w-full text-left border-t border-gray-100">
        <thead class="text-gray-500 text-sm uppercase">
          <tr>
            <th class="py-2">ฤแบกi lรฝ</th>
            <th class="py-2 text-right">Sแป ฤฦกn nhแบญp</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-100">
          <% @top_agency_imports.each do |a| %>
            <tr>
              <td class="py-2"><%= a.name %></td>
              <td class="py-2 text-right font-semibold text-green-600"><%= a.import_count %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>

    <!-- Top xuแบฅt -->
    <div class="bg-white rounded-2xl shadow p-6 border border-gray-100">
      <h2 class="text-lg font-semibold text-gray-700 mb-4">๐ Top 10 ฤแบกi lรฝ xuแบฅt hรng nhiแปu nhแบฅt</h2>
      <table class="w-full text-left border-t border-gray-100">
        <thead class="text-gray-500 text-sm uppercase">
          <tr>
            <th class="py-2">ฤแบกi lรฝ</th>
            <th class="py-2 text-right">Sแป ฤฦกn xuแบฅt</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-100">
          <% @top_agency_exports.each do |a| %>
            <tr>
              <td class="py-2"><%= a.name %></td>
              <td class="py-2 text-right font-semibold text-orange-500"><%= a.export_count %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <!-- โ๏ธ Sแบฃn phแบฉm sแบฏp hแบฟt -->
  <div class="bg-white rounded-2xl shadow p-6 border border-gray-100">
    <h2 class="text-lg font-semibold text-gray-700 mb-4">โ๏ธ Sแบฃn phแบฉm sแบฏp hแบฟt hรng</h2>
    <% if @low_stock_products.any? %>
      <table class="w-full text-left border-t border-gray-100">
        <thead class="text-gray-500 text-sm uppercase">
          <tr>
            <th class="py-2">Tรชn sแบฃn phแบฉm</th>
            <th class="py-2">Sแป lฦฐแปฃng</th>
            <th class="py-2">Trแบกng thรกi</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-100">
          <% @low_stock_products.each do |p| %>
            <% status_class, status_text =
              if p.quantity <= 0
                ["text-red-600", "Hแบฟt hรng"]
              elsif p.quantity < 10
                ["text-yellow-600", "Cแบงn nhแบญp thรชm"]
              else
                ["text-green-600", "ฤแปง hรng"]
              end %>
            <tr>
              <td class="py-2"><%= p.name %></td>
              <td class="py-2 font-semibold <%= status_class %>"><%= p.quantity %></td>
              <td class="py-2 <%= status_class %>"><%= status_text %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% else %>
      <p class="text-center text-gray-500 italic py-4">โ Tแบฅt cแบฃ sแบฃn phแบฉm ฤแปu ฤแปง hรng.</p>
    <% end %>
  </div>
</div>
