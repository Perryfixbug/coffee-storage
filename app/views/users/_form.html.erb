<%= form_with model: user, local: true, class: "bg-white p-6 rounded-lg shadow-sm border border-gray-200 max-w-[600px]" do |f| %>

  <% if user.errors.any? %>
    <div class="bg-red-50 border border-red-200 text-red-600 p-4 rounded-md mb-5">
      <h2 class="font-semibold mb-2"><%= pluralize(user.errors.count, "error") %> không thể lưu người dùng:</h2>
      <ul class="list-disc ml-5 text-sm space-y-1">
        <% user.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="grid grid-cols-2 gap-5 mb-5">
    <div>
      <%= f.label :fullname, "Họ và tên", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :fullname, class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400 focus:border-blue-400 outline-none" %>
    </div>

    <div>
      <%= f.label :email, "Email", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.email_field :email, class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400 focus:border-blue-400 outline-none" %>
    </div>
  </div>

  <div class="grid grid-cols-2 gap-5 mb-5">
    <div>
      <%= f.label :phone, "Số điện thoại", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :phone, class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400 focus:border-blue-400 outline-none" %>
    </div>

    <div>
      <%= f.label :address, "Địa chỉ", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.text_field :address, class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400 focus:border-blue-400 outline-none" %>
    </div>
  </div>

  <div class="grid grid-cols-2 gap-5 mb-5">
    <div>
      <%= f.label :birth_date, "Ngày sinh", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.date_field :birth_date, class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-400 focus:border-blue-400 outline-none" %>
    </div>

    <div>
      <%= f.label :role, "Vai trò", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.select :role, ["admin", "staff", "user"], { include_blank: "Chọn vai trò" },
            class: "w-full px-3 py-2 border border-gray-300 rounded-md bg-white focus:ring-2 focus:ring-blue-400 focus:border-blue-400 outline-none" %>
    </div>
  </div>

  <div class="flex justify-end gap-3 pt-3 border-t border-gray-100">
    <%= link_to "Hủy", profile_path, class: "px-4 py-2 border border-gray-300 rounded-md text-gray-600 hover:bg-gray-100 transition" %>
    <%= f.submit (user.new_record? ? "Tạo tài khoản" : "Cập nhật"), class: "px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition" %>
  </div>
<% end %>
